
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>êµì •ì—°ë ¹ ê³„ì‚°ê¸°</title>
  <style>
    body { font-family: sans-serif; max-width: 700px; margin: auto; padding: 2rem; }
    label { display: block; margin-top: 1rem; font-weight: bold; }
    input { padding: 0.5rem; font-size: 1rem; margin-top: 0.3rem; width: 220px; }
    .inline { display: flex; gap: 0.5rem; align-items: center; margin-top: 0.5rem; }
    .result { margin-top: 2rem; background: #f9f9f9; padding: 1rem; border-radius: 8px; font-size: 1.1rem; }
  </style>
</head>
<body>

  <h2>ğŸ‘¶ êµì •ì—°ë ¹ ê³„ì‚°ê¸°</h2>

  <label>ìƒë…„ì›”ì¼</label>
  <input id="birth" type="date" oninput="CAcal()">

  <label>ì¶œìƒ ì‹œ ì¬íƒœì—°ë ¹</label>
  <div class="inline">
    <input id="ww" type="number" min="22" max="40" value="28" oninput="CAcal()"> ì£¼
    <input id="wd" type="number" min="0" max="6" value="0" oninput="CAcal()"> ì¼
  </div>

  <div class="result">
    <h3>ğŸ“ ê³„ì‚° ê²°ê³¼</h3>
    <p id="d"></p>
    <p id="e"></p>
    <p id="f"></p>
    <hr>
    <p><b>ğŸ¼ êµì •ì—°ë ¹</b> <span id="a"></span> <span id="b"></span> <span id="c"></span></p>
    <p><b>ğŸ‚ ìƒí™œì—°ë ¹</b> <span id="g"></span> <span id="h"></span> <span id="i"></span></p>
  </div>

  <script>
    var DateDiff = {
      inDays: function(d1, d2) {
        var t2 = d2.getTime();
        var t1 = d1.getTime();
        return parseInt((t2 - t1) / (24 * 3600 * 1000));
      },
      inWeeks: function(d1, d2) {
        var t2 = d2.getTime();
        var t1 = d1.getTime();
        return parseInt((t2 - t1) / (24 * 3600 * 1000 * 7));
      }
    };

    function CAcal() {
      var birthStr = document.getElementById("birth").value;
      var ww = parseInt(document.getElementById("ww").value);
      var wd = parseInt(document.getElementById("wd").value);
      if (!birthStr || isNaN(ww) || isNaN(wd)) return;

      var birthday = new Date(birthStr);
      var today = new Date();
      var needday = 280 - (ww * 7) - wd;
      var dday = new Date(birthday.getTime() + (needday * 24 * 3600 * 1000));

      var age = DateDiff.inDays(dday, today) / 30;
      var age2 = DateDiff.inDays(birthday, today) / 30;

      document.getElementById('a').innerHTML = `<b>${age.toFixed(2)} ê°œì›”</b>`;
      document.getElementById('b').innerHTML = `(${DateDiff.inDays(dday, today)}ì¼)`;
      document.getElementById('c').innerHTML = `(${DateDiff.inWeeks(dday, today)}ì£¼)`;

      document.getElementById('d').innerHTML = `í˜„ì¬ ë‚ ì§œ: ${today.getFullYear()}ë…„ ${today.getMonth() + 1}ì›” ${today.getDate()}ì¼`;
      document.getElementById('e').innerHTML = `ìƒë…„ì›”ì¼: ${birthday.getFullYear()}ë…„ ${birthday.getMonth() + 1}ì›” ${birthday.getDate()}ì¼`;
      document.getElementById('f').innerHTML = `ì¶œìƒ ì˜ˆì •ì¼: ${dday.getFullYear()}ë…„ ${dday.getMonth() + 1}ì›” ${dday.getDate()}ì¼`;

      document.getElementById('g').innerHTML = `<b>${age2.toFixed(2)} ê°œì›”</b>`;
      document.getElementById('h').innerHTML = `(${DateDiff.inDays(birthday, today)}ì¼)`;
      document.getElementById('i').innerHTML = `(${DateDiff.inWeeks(birthday, today)}ì£¼)`;
    }

    window.onload = CAcal;
  </script>

</body>
</html>
